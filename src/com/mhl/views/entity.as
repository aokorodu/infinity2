////  entity////  Created by Matthew on 2012-10-19.//  Copyright (c) 2012 __MyCompanyName__. All rights reserved.////package com.mhl.views{	import com.mhl.canvas;	import com.mhl.libs.recentActivity	import flash.display.MovieClip;		import flash.display.Sprite;	import flash.display.Shape;	import flash.display.Graphics;		import flash.geom.Point;	import flash.events.EventDispatcher;	import flash.events.Event;		import flash.events.GestureEvent;	import flash.events.PressAndTapGestureEvent;	import flash.events.TouchEvent;	import flash.ui.Multitouch;	import flash.ui.MultitouchInputMode;		import com.mhl.utils.appFactory;	import com.greensock.*;	import com.greensock.easing.*;	import com.greensock.plugins.*;	import com.greensock.loading.*;	import com.greensock.events.LoaderEvent;	import com.greensock.loading.display.*;	 public class entity extends MovieClip{		public var entityType:String;	  	public var parentTitle:String;		public var title:String;		public var description:String;        public var p:String;        public var id:uint;		public var parentid:String;		public var _queue:LoaderMax;		public var _factory:appFactory;		public var _entity:MovieClip;		public var _canvas:ButtonList;		public var _title:MovieClip;		public var _poster:MovieClip;		public var _li_episodes:MovieClip;		public var _hr_bottom:MovieClip;		public var _isOpen:Boolean		public var _originPoint:Point				public function entity() {								this._factory = new appFactory();			this._queue = new LoaderMax({name:"mainQueue", auditSize:false, maxConnections:7});	 		this._entity = new MovieClip();			this._canvas = new ButtonList()			this._title = new MovieClip();			this._poster = new MovieClip();			this._li_episodes = new MovieClip();			this._hr_bottom = new MovieClip();					}				public function get helloworld():String{			var msg = this.title+"\n"+this.p+"\n"+this.description+"\n"+"________________________________"			return msg		}		public function expandListItem():void{	/*		this.isOpen = true*/			trace("I am Expanding");					}		public function closeListItem():void{		/*	this.isOpen = false;*/			if(this.originPoint.y == this.point.y){ this.move(this.point.y+300); }else{this.move(this.originPoint.y);}								}				public function get listView():MovieClip{										this._entity.addChild(_title);			this._entity.addChild(_poster);			this._entity.addChild(_li_episodes);			this._entity.addChild(_hr_bottom);			this._entity.addChild(_canvas);			this._canvas.height = 100;			this._canvas.name = parentTitle;			this._isOpen = false;						var t = _factory.Text(parentTitle, "xxlarge", 0); t.x = 10; t.y =20; _title.addChild(t);/*			_queue.append( new ImageLoader(p, {container:_poster, width:240, height:360, vAlign:"top", hAlign:"center", scaleMode:"proportionalOutside", crop:true }) );			_queue.load();*/			var _hr:Shape = new Shape();			_hr.graphics.lineStyle(.5, 0xffffff, .33); 			_hr.graphics.moveTo(0, 0); 			_hr.graphics.lineTo(1024, 0);			_hr_bottom.addChild(_hr);						_poster.y = _title.height+30			_poster.x = t.x;		/*	_poster.visible = false*/						return _entity;		}		public function get isOpen():Boolean{						return _isOpen		}				public function set isOpen(value:Boolean):void{			this._isOpen = value;		}		public function get seriesView():MovieClip{			var _seriesView = new MovieClip();			var _poster = new MovieClip(); _seriesView.addChild(_poster);			_queue.append( new ImageLoader(p, {container:_poster, width:240, height:360, vAlign:"top", hAlign:"center", scaleMode:"proportionalOutside", crop:true }) );			_queue.load();			return _seriesView		}						public function get point():Point{			var xpos = this._entity.x			var ypos = this._entity.y			var point = new Point(xpos, ypos)		 	return point;		}				public function set point(pos:Point):void{			/*			TweenLite.to(_entity, 0.8, {x:pos.x,  y:pos.y, ease:Expo.easeOut});*/					}		public function set originPoint(pos:Point):void{						this._originPoint = pos;					}				public function get originPoint():Point{		 	return _originPoint;		}				public function wiggle(event:TouchEvent):void{						trace(this.point);			}				public function move(y:Number):void {			TweenLite.to(_entity, 0.8, { y:y, ease:Expo.easeOut});		}				public function set clipName(clip:String):void{						this.name = clip;		}		/*		 public function myTitle():MovieClip{			var btn = new ButtonList()			_title.addChild(btn);			var t = _factory.Text(title, "xxlarge", 0);			t.x = 10;			t.y =20;			_title.addChild(t);			var clipName = "_"+parentid;			_entity.name= clipName;			_episodes.name = "_episodes";			_queue.append( new ImageLoader(p, {container:_poster, width:240, height:360, vAlign:"top", hAlign:"center", scaleMode:"proportionalOutside", crop:true }) );			_queue.load();			_poster.x = 10;			_poster.y = t.height+40;						trace(title);					return _entity		}				public function set episodes(value:Object):void{						_episodeArray.push(value);			_episodeCount++;			var ypos = _entity.height;			var _episodeClip = new MovieClip()			_episodeClip.name = title+_episodeCount;			_episodes.addChild(_episodeClip);			var btn = new ButtonList()			_episodeClip.addChild(btn);			btn.height = 50;			var t = _factory.Text(value.title, "large", 0);			t.x = 10;			t.y =20;			_episodeClip.addChild(t);			var _hr:Shape = new Shape();			_hr.graphics.lineStyle(.5, 0xffffff, .33); 			_hr.graphics.moveTo(0, 0); 			_hr.graphics.lineTo(600, 0);			_episodeClip.addChild(_hr);			_hr.y = t.y-10;						var _hr2:Shape = new Shape();			_hr2.graphics.lineStyle(.5, 0xffffff, .33); 			_hr2.graphics.moveTo(0, 0); 			_hr2.graphics.lineTo(600, 0);			_episodeClip.addChild(_hr2);			_hr2.y = btn.height+10;			_episodeClip.y = ypos;		}		public function hr():void{			var _hrShape:Shape = new Shape();			_hrShape.graphics.lineStyle(.5, 0xffffff, .33); 			_hrShape.graphics.moveTo(0, 0); 			_hrShape.graphics.lineTo(1024, 0);			_hr.addChild(_hrShape);			_hr.y = _hr.y+10;			_episodes.y =  -_poster.height;		}				public function hideEpisodes():void{			_episodes.visible = false;			_poster.visible = false;			_hr.y =0;		}*//*	 public  function toString():String	        {	            return "id: "+ id.toString() + " title: " + title + " released: " + p;	        }			 public  function buildList():void		        {									         		        }*/			}};