////  alert////  Created by Matthew on 2012-10-03.//  Copyright (c) 2012 __MyCompanyName__. All rights reserved.////package com.mhl {	import flash.display.MovieClip;		import flash.display.Sprite;	import flash.events.Event;	import flash.events.EventDispatcher;	import flash.events.*;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.text.TextFormat;	import flash.text.TextFieldType;	import flash.text.Font;	import flash.geom.*;	import com.greensock.*;	import com.greensock.easing.*;	import com.greensock.plugins.*;	import com.greensock.loading.*;	import com.greensock.events.LoaderEvent;	import com.greensock.loading.display.*;	 public class download extends MovieClip {		public var _app:MovieClip;		public var _media:MovieClip;		public var download_options:MovieClip;		public var backdrop:lighting; 		public var modal:download_alert; 		public var buttonSet:MovieClip;		public var fileSize:String;		public var wholeNum:Number		public var floatingPoint:Number;		public var count:Number;		public function download (target:MovieClip, mc:MovieClip) {			// Empty constructor			_app = target;			_media = mc			download_options = new MovieClip();			addChild(download_options);			backdrop = new lighting();			backdrop.alpha=.7;			download_options.addChild(backdrop);						modal = new download_alert();			modal.x = backdrop.width/2 - modal.width/2;			modal.y = backdrop.height/2 -modal.height/2;			download_options.addChild(modal);			download_options.alpha=0;			modal.alpha=0;			TweenLite.to(download_options, 0.8, {autoAlpha:1, ease:Expo.easeOut});			TweenLite.to(modal, 0.8, {delay:0.2, autoAlpha:1, ease:Expo.easeOut});									/*			buttonSet = new MovieClip();			buttonSet.arr = ["SD", "HD"];			modal.addChild(buttonSet);						var h1 = target.Mov(buttonSet, "h1", [60,8], [0.5,1]);			target.queue.append( new ImageLoader("images/misc/hr.png", {container:h1,  width:964, height:1, scaleMode:"proportionalInside" }) );				var h2 = target.Mov(buttonSet, "h2", [60,60], [0.5,1]);			target.queue.append( new ImageLoader("images/misc/hr.png", {container:h2,  width:964, height:1, scaleMode:"proportionalInside" }) );				h1.alpha = h2.alpha = 0.55;*/						backdrop.addEventListener(MouseEvent.CLICK, clickHandler);			modal.btn_close.addEventListener(MouseEvent.CLICK, clickHandler);			modal.btn_sd.addEventListener(MouseEvent.CLICK, dowloadHandler)			modal.btn_hd.addEventListener(MouseEvent.CLICK, dowloadHandler)														}		// Do my thing		public function clickHandler(e:MouseEvent): void{						removeChild(download_options);		}		public function dowloadHandler(e:MouseEvent): void{								wholeNum = 0;			floatingPoint = 0			count = 0;			fileSize = "";			removeChild(download_options);				TweenLite.to(_media.items, 0.8, {autoAlpha:0, ease:Expo.easeOut});			TweenLite.to(_media.downloader, 0.8, {delay:0.4, autoAlpha:1, ease:Expo.easeOut});			TweenLite.to(_media.downloader.dfull, 2, {scaleX:0.98, onUpdate:downloadSize, onComplete:function(){								TweenLite.to(_media.downloader, 0.8, {autoAlpha:0, ease:Expo.easeOut});				_app.Show(_media.items);				_app.Hide(_media.items.item0);				_app.Hide(_media.items.item1);				_app.Hide(_media.items.item2);								_media.items.item3.x = _media.items.item0.x				_media.items.item4.x = _media.items.item0.x+_media.items.item3.width+20;								TweenLite.to(_media.items.item3, 0.8, {delay:0.4, autoAlpha:1, ease:Expo.easeOut});				TweenLite.to(_media.items.item4, 0.8, {delay:0.4, autoAlpha:1, ease:Expo.easeOut});			}, ease:Linear.easeOut});			}		public function downloadSize():void{			wholeNum= wholeNum+1			floatingPoint= floatingPoint+1					if(	floatingPoint == 10){				floatingPoint = 0			}			if(wholeNum == 15){				count = count+1;				wholeNum = 0;								}				fileSize = count+"."+floatingPoint								_media.downloader.download_size.txt.text = fileSize+"/4";					}			}};