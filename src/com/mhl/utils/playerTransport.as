////  Transport////  Created by Matthew on 2012-10-01.//  Copyright (c) 2012 __MyCompanyName__. All rights reserved.////package com.mhl.utils {	import flash.display.MovieClip;	import flash.display.DisplayObject;	import flash.events.EventDispatcher;	import flash.events.Event;	import flash.events.*;	import com.greensock.*;	import com.greensock.easing.*;	import com.greensock.plugins.*;	import com.greensock.loading.*;	import com.greensock.events.LoaderEvent;	import com.greensock.loading.display.*;	import com.mhl.*	import app.model.*;		 public class playerTransport extends MovieClip {		public var factory:appFactory;		public var transport:MovieClip;		public var surface:hitme_lg;		private var buttonState:Boolean;		public var cpause:transportControls;				public function playerTransport(model:AppModel) {						TweenPlugin.activate([AutoAlphaPlugin]);			factory= new appFactory();			transport = new MovieClip();			var mc=  transport;			addChild(mc);			mc.x = mc.sx = 0;			mc.y = mc.sy = 0;			//mc.y = 350;			factory.Hide(mc);						/*addEventListener(MouseEvent.CLICK, clickHandler);*/			//mc.arr = [Sttarget.art.o];		/*	var tmp:Array = RandomAsset(1,["Toy Story 3"],8);					mc.arr = tmp[0];*/			mc.sel = 0;/*			var bg = factory.Spr(mc, "bg", [0,480], [1,1]);			model.queue.append( new ImageLoader("images/transport/bg_short.png", {container:bg, width:1024, height:473, scaleMode:"proportionalInside" }) );								factory.Hide(bg);*/			var items = factory.Mov(mc, "items", [29,619]);			var controls = factory.Mov(items, "controls", [401-items.x,0], [1,1]);			var cleft = factory.Spr(controls, "cleft", [20,0], [-1,1]);			model.queue.append( new ImageLoader("images/transport/ico_caret.png", {container:cleft, width:20, height:27, scaleMode:"proportionalInside" }) );/*			var cpause = factory.Spr(controls, "cpause", [103,-2], [1,1]);			model.queue.append( new ImageLoader("images/transport/ico_pause.png", {container:cpause, width:24, height:30, scaleMode:"proportionalInside" }) );*/			cpause = new transportControls();			cpause.name = "pausePlay";			cpause.toggle = true;		/*	cpause.mouseEnabled = false; */			cpause.x = 103;			cpause.y = -2;			controls.addChild(cpause);			cpause.btnPlay.visible = false;			var cright = factory.Spr(controls, "cright", [216,0], [1,1]);			model.queue.append( new ImageLoader("images/transport/ico_caret.png", {container:cright, width:20, height:27, scaleMode:"proportionalInside" }) );			var prog = factory.Spr(items, "prog", [0,68], [1,1]);			model.queue.append( new ImageLoader("images/transport/progress.png", {container:prog, width:974, height:16, scaleMode:"proportionalInside" }) );			var icos = factory.Mov(items, "icos", [867,94], [1,1]);			var ico1 = factory.Spr(icos, "ico1", [0,2], [1,1]);			model.queue.append( new ImageLoader("images/transport/ico_bubble.png", {container:ico1, width:27, height:26, scaleMode:"proportionalInside" }) );			var ico2 = factory.Mov(icos, "ico2", [65,0], [1,1]);			model.queue.append( new ImageLoader("images/transport/ico_xplay.png", {container:ico2, width:32, height:26, scaleMode:"proportionalInside" }) );			var ico2hit = factory.Spr(ico2, "ico2hit", [20,10], [0.6,1.2]);			ico2hit.addChild(new hitme());					}		public function clickHandler(e:MouseEvent):void {				}		public function showHidePlayer(transportState:Boolean):void {			var mc = transport;			if(transportState== true ){							TweenLite.to(mc, 1.2, { autoAlpha:1, ease:Expo.easeOut});								/*	var sel = mc.items.icos.ico2;							TweenLite.to(sel, 0.3, {tint:0x2ca4e3,  ease:Expo.easeOut});*/			}else{								TweenLite.to(mc, 0.8, {autoAlpha:0,  ease:Expo.easeOut});			/*	TweenLite.to(mc.bg, 0.6, {autoAlpha:1, ease:Expo.easeOut});*/							}		}				public function pause():void{											}			public function togglePlayPause(videPlayState:Boolean){				if(videPlayState== true ){			cpause.btnPlay.visible = false;				cpause.btnPause.visible = true;						}else{				cpause.btnPause.visible = false;				cpause.btnPlay.visible = true;							}				}		public function TransportHide():void {			var mc = transport;			//TweenLite.to(mc, 0.8, {autoAlpha:0, onComplete:TransportDestroy, ease:Expo.easeOut});			TweenLite.to(mc, 0.8, {autoAlpha:0,  ease:Expo.easeOut});			TransportDesel();			//TweenLite.to(black_overlay_small, 1, {autoAlpha:0, y:395, ease:Expo.easeOut});		}		function TransportDestroy():void {	/*		RemoveChildren(Transport);*/		}		function TransportSelect(e:MouseEvent):void {			e.stopPropagation();			var mc = transport;			//mc.sel = e.target.i;			TransportSel();			TransportPress();		}		function TransportDesel():void {			var mc = transport;			var sel = mc.items.icos.ico2;			TweenLite.to(sel, 0.2, {tint:null,  ease:Expo.easeOut});		}		function TransportSel():void {			var mc = transport;			var sel = mc.items.icos.ico2;			TweenLite.to(sel, 0.3, {tint:0x2ca4e3,  ease:Expo.easeOut});		}		function TransportPress():void {			var mc = transport;		}	}};