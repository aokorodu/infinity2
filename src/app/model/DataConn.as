////  Opens connection to sqlite dbd, gets data, handles errors////  Created by Matthew on 2012-10-19.//  Copyright (c) 2012 __MyCompanyName__. All rights reserved.//	//package app.model{		import com.mhl.*;		import app.model.Entity		import app.model.AppModel;		import com.mhl.libs.recentActivity;		import flash.display.MovieClip;		import flash.display.Sprite;		import flash.utils.Dictionary; 		import fl.data.DataProvider;		import flash.data.SQLResult;		import flash.data.SQLConnection;		import flash.filesystem.File;		import flash.data.SQLStatement;		import flash.data.SQLConnection;		import flash.events.*;		import flash.events.EventDispatcher;		import flash.events.Event;			 public class DataConn extends Object{				public var conn:SQLConnection;		private var model:AppModel;		public function DataConn(model:AppModel) {			this.model = model;			conn = new SQLConnection();			conn.addEventListener(SQLEvent.OPEN, openSuccess);			conn.addEventListener(SQLErrorEvent.ERROR, openFailure);			trace("Creating and opening database");			var embededSessionDB:File = File.applicationDirectory.resolvePath("data/entity2.sqlite");			conn.openAsync(embededSessionDB);										}		public function openSuccess(event:SQLEvent):void		{			conn.removeEventListener(SQLEvent.OPEN, openSuccess);			conn.removeEventListener(SQLErrorEvent.ERROR, openFailure);			this.model.dataConnReady = true;		}		public function openFailure(event:SQLErrorEvent):void		{			conn.removeEventListener(SQLEvent.OPEN, openSuccess);			conn.removeEventListener(SQLErrorEvent.ERROR, openFailure);			trace("Error opening database");			trace("event.error.message:", event.error.message);			trace("event.error.details:", event.error.details);			this.model.dataConnReady = false;		}			}};